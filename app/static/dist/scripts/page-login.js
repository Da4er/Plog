!function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function n(t){var e=/^[A-Za-z][A-Za-z0-9_]{4,}$/;return e.test(t)}function r(t){var e=/^[\S]{6,}$/;return e.test(t)}function a(){return n(u.val())?r(d.val())?!0:(console.log("password invalid"),!1):(u.focus(),console.log("username invalid"),!1)}var i=o(1),c=o(2),s=window.location.protocol+"//"+window.location.host,l=s+"/api/v1.0/login",u=i("input#username"),d=i("input#password"),f=i("button#login-btn");i(function(){i.each([u,d],function(){i(this).keyup(function(){a()?f.prop("disabled",!1):f.prop("disabled",!0)})})}),i(document).ready(function(){setTimeout(function(){d.val("")},100)}),i(function(){f.on("click",function(){var t=u.val(),e=d.val();i.ajax({method:"POST",url:l,data:{username:t,password:e},dataType:"json",timeout:3e4,beforeSend:function(){f.prop("disabled",!0).text("登录中...")},error:function(){d.val(""),f.text("登录").prop("disabled",!0)},success:function(t){console.log(t),console.log(c.getUrlPara("redirect")),t.success&&1==t.success?(f.text("登录成功"),setTimeout(function(){var t=c.getUrlPara("redirect")?0==decodeURIComponent(c.getUrlPara("redirect")).indexOf("http")?decodeURIComponent(c.getUrlPara("redirect")):s+"/"+decodeURIComponent(c.getUrlPara("redirect")):s;window.location.href=t},1500)):(d.val(""),f.text("登录").prop("disabled",!0),alert(t.message))}}).done(function(){f.text("登录")})})})},function(t,e){t.exports=jQuery},function(t,e,o){"use strict";var n=o(1);n(function(){n(".bind-redirect").on("click",function(t){t.preventDefault();var e=n(this).attr("href");e=e+"?redirect="+encodeURIComponent(window.location.pathname),window.location.href=e}),n("[data-focus]").on("focus",function(){n(n(this).data("focus")).slideDown()}).on("blur",function(){n(n(this).data("focus")).slideUp()})}),n(function(){n("a[data-toggle='dropdown']").on("click",function(){var t=n(this).data("toggle");n(this).closest("."+t).toggleClass("open")})}),e.getUrlPara=function(t,e){e||(e=window.location.href),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o="[\\?&]"+t+"=([^&#]*)",n=new RegExp(o),r=n.exec(e);return null==r?null:r[1]}}]);